{"version":3,"sources":["index.js"],"names":["dptosLocs","Artigas","Canelones","Montevideo","Salto","$","document","ready","crearcarrousel","cargardeptos","slick","dots","nextArrow","prevArrow","e","option","createElement","text","value","append","change","empty","val","getElementById","addEventListener","evt","preventDefault","name","errorname","surname","email","erroremail","deptos","errordeptos","localidad","errorlocalidad","cedula","errorcedula","checkbox","errorbases","this","style","border","display","errorsurname","length","borderColor","test","ci","arrCoefs","Array","suma","difCoef","parseInt","i","dig","substring","result","validarCedula","querySelector","checked","submit"],"mappings":"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","file":"index.js","sourcesContent":["const dptosLocs = {\n\t\"Artigas\":[\"Artigas\",\"Bella Unión\"],\n\t\"Canelones\":[\"Canelones\",\"Santa Lucía\"],\n\t\"Montevideo\":[\"Montevideo\"],\n\t\"Salto\":[\"Salto\",\"Daymán\",\"Arapey\"]\n}; \n\n\n$(document).ready(function () {\n    //inicio el carrousel con el plugin slick\n    crearcarrousel()\n    //cargo los departamentos desde datos.js\n    cargardeptos()\n});\n\n\n\n\nconst crearcarrousel = () => {\n    $('#carrousel, #carrouselMobile').slick({\n        //se quitan los dots por default del carrousel\n        dots: false,\n        //se sustituye las arrow preestablecidas por custom arrows\n        nextArrow: '<img alt=\"arrowleft\" class=\"slick-prev-custom\" src=\"./assets/images/arrowleft.png\"/>',\n        prevArrow: '<img alt=\"arrownext\" class=\"slick-next-custom\" src=\"./assets/images/arrowright.png\"/>'\n    });\n}\n\nconst cargardeptos = () => {\n    for (let e in dptosLocs) {\n        var option = document.createElement(\"option\");\n        option.text = e;\n        option.value = e;\n        $('#deptos').append(option);\n    }\n\n}\n\n//Cuando el select de departamento cambia, se cargan las localidades asignadas\n//a ese departamento en datos.js\n$(\"#deptos\").change(function () {\n    $('#localidad').empty()\n    var val = $(\"#deptos\").val()\n    for (let e of dptosLocs[val]) {\n        var option = document.createElement(\"option\");\n        option.text = e;\n        option.value = e;\n        $('#localidad').append(option);\n    }\n});\n\n\n\n//Cuando se detecta la accion submit, se ejecuta la funcion validacion para el formulario.\ndocument.getElementById(\"formulario\").addEventListener('submit', function (evt) {\n    //Esta funcion cancela que se envie el formulario por defecto\n    //al clickear el boton submit.\n    evt.preventDefault();\n\n    //recojo y almaceno los inputs y sus cajas de errores\n    var name = document.getElementById('name');\n    var errorname = document.getElementById('errorname');\n\n    var surname = document.getElementById('surname');\n\n    var validEmail = /^\\w+([.-_+]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,10})+$/;\n    var email = document.getElementById('email');\n    var erroremail = document.getElementById('erroremail');\n\n    var deptos = document.getElementById('deptos');\n    var errordeptos = document.getElementById('errordeptos');\n    var localidad = document.getElementById('localidad');\n    var errorlocalidad = document.getElementById('errorlocalidad');\n\n    var cedula = document.getElementById('cedula');\n    var errorcedula = document.getElementById('errorcedula');\n\n    var checkbox = document.getElementById('checkbox');\n    var errorbases = document.getElementById('errorbases');\n\n\n    //Estas funciones las realicé para quitar el CSS de error al estar en input focus.\n    name.addEventListener(\"focus\", function () {\n        this.style.border = '1px solid gray';\n        errorname.style.display = 'none';\n\n    });\n\n    surname.addEventListener(\"focus\", function () {\n        this.style.border = '1px solid gray';\n        errorsurname.style.display = 'none';\n\n    });\n\n    email.addEventListener(\"focus\", function () {\n        this.style.border = '1px solid gray';\n        erroremail.style.display = 'none';\n\n    });\n\n    deptos.addEventListener(\"focus\", function () {\n        this.style.border = '1px solid gray';\n        errordeptos.style.display = 'none';\n    });\n\n    localidad.addEventListener(\"focus\", function () {\n        this.style.border = '1px solid gray';\n        errorlocalidad.style.display = 'none';\n    });\n\n    cedula.addEventListener(\"focus\", function () {\n        this.style.border = '1px solid gray';\n        errorcedula.style.display = 'none';\n    });\n\n    checkbox.addEventListener(\"focus\", function () {\n        errorbases.style.display = 'none';\n    });\n\n\n    //Condicionales para validar el formulario segun lo requerido\n\n    //caracteres del nombre < 3\n    if (name.value.length < 3) {\n        errorname.style.display = 'block';\n        name.style.borderColor = 'red';\n        return false;\n\n    };\n\n    //caracteres del apellido < 3\n    if (surname.value.length < 3) {\n        errorsurname.style.display = 'block';\n        surname.style.borderColor = 'red';\n        return false;\n\n    };\n\n    //validacion de email\n    if (!validEmail.test(email.value)) {\n        erroremail.style.display = 'block';\n        email.style.borderColor = 'red';\n        return false;\n\n    };\n\n    //validacion de departamento != a seleccion default\n    if (deptos.value === 'departamento') {\n        deptos.style.borderColor = 'red';\n        errordeptos.style.display = 'block';\n        return false;\n\n    };\n\n    //validacion de localidad != a seleccion default\n    if (localidad.value === 'localidad') {\n        localidad.style.borderColor = 'red';\n        errorlocalidad.style.display = 'block';\n        return false;\n\n    };\n\n    //validacion de cedula segun la funcion otorgada\n    if (!validarCedula(cedula.value)) {\n        cedula.style.borderColor = 'red';\n        errorcedula.style.display = 'block';\n        return false;\n\n    };\n\n    //validacion de checkbox\n    if (!document.querySelector('#checkbox').checked) {\n        errorbases.style.display = 'block';\n        return false;\n    };\n\n    //Una vez que todos los retornos sean != false se ejecuta la funcion submit.\n    return this.submit()\n\n});\n\n\n\nfunction validarCedula(ci) {\n    if (ci != '') {\n        //Inicializo los coefcientes en el orden correcto\n        var arrCoefs = new Array(2, 9, 8, 7, 6, 3, 4, 1);\n        var suma = 0;\n        //Para el caso en el que la CI tiene menos de 8 digitos\n        //calculo cuantos coeficientes no voy a usar\n        var difCoef = parseInt(arrCoefs.length - ci.length);\n        //recorro cada digito empezando por el de más a la derecha\n        //o sea, el digito verificador, el que tiene indice mayor en el array\n        for (var i = ci.length - 1; i > -1; i--) {\n            //Obtengo el digito correspondiente de la ci recibida\n            var dig = ci.substring(i, i + 1);\n            //Lo tenía como caracter, lo transformo a int para poder operar\n            var digInt = parseInt(dig);\n            //Obtengo el coeficiente correspondiente al ésta posición del digito\n            var coef = arrCoefs[i + difCoef];\n            //Multiplico dígito por coeficiente y lo acumulo a la suma total\n            suma = suma + digInt * coef;\n        }\n        var result = false;\n        // si la suma es múltiplo de 10 es una ci válida\n        if ((suma % 10) === 0) {\n            result = true;\n        }\n        return result;\n\n    } else {\n        return false\n    }\n};"]}